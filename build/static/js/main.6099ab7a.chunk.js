(this.webpackJsonpboardgame_clock=this.webpackJsonpboardgame_clock||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(8),i=n.n(a),l=(n(14),n(3),n(9)),o=n(1),u=n(7),s=n(0);function d(e){var t=e.SecsLeft;return Object(s.jsx)("div",{style:{display:"inline-block"},children:Object(s.jsx)("p",{style:{display:"inline-block"},className:"time",children:function(e){var t="",n=e;if(n>=3600){var c=Math.floor(n/3600);n%=3600,t+="".concat(c,":")}var r=Math.floor(n/60);return n%=60,t+="".concat(r<10?"0":"").concat(r,":").concat(n<10?"0":"").concat(n)}(t)})})}function b(e){var t=e.player,n=e.HandleNextTurn,c=e.HandleNameChange,r=e.HandleInternalPosition;return Object(s.jsxs)("div",{className:"Player",children:[Object(s.jsx)("div",{className:"Square",children:Object(s.jsx)("div",{className:"PlayerPiece",style:{backgroundColor:"".concat(t.Color)},children:Object(s.jsx)("input",{type:"number",value:t.Position+1,onChange:function(e){r(t.Id,parseInt(e.target.value)-1)},disabled:!0,className:"position"})})}),Object(s.jsx)("input",{value:t.Name,onChange:function(e){c(e.target.value,t.Id)},disabled:!0,className:"name"}),Object(s.jsx)(d,{SecsLeft:t.TimeAllowed}),Object(s.jsx)("button",{onClick:n,style:{visibility:"hidden"},className:"nextTurn",id:t.Id,children:" > "})]})}function j(e){var t=e.Players,n=e.HandleOrderChange,c=e.HandleNextTurn,r=e.HandleNameChange,a=e.HandleInternalPosition;return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"Square"}),Object(s.jsx)("div",{className:"Square"}),t.map((function(e){return Object(s.jsx)(b,{player:e,HandleNextTurn:c,HandleNameChange:r,HandleInternalPosition:a},e.Id)})),Object(s.jsxs)("div",{className:"changeOrder",style:{display:"none"},children:[Object(s.jsx)("p",{children:"Change Player Order"}),Object(s.jsx)("button",{onClick:n,children:"Confirm Order"})]}),Object(s.jsx)("div",{className:"Square"}),Object(s.jsx)("div",{className:"Square"})]})}var m=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(0),i=Object(u.a)(a,2),d=i[0],b=i[1],m=["red","green","yellow","blue","white","black"],f=Object(c.useRef)(!0);Object(c.useEffect)((function(){if(f.current)f.current=!1;else{var e=d;if(n[d].Active){var t=Date.now()+1e3*n[e].TimeAllowed,c=setTimeout((function(){if(!n[e].Active||e!==d)return console.log("Out!"),void clearTimeout(c);var a=Math.round((t-Date.now())/1e3);return r((function(t){return t.map((function(t){return t.Id===e?Object(o.a)(Object(o.a)({},t),{},{TimeAllowed:a}):Object(o.a)({},t)}))})),a<=0?(alert("".concat(n[e].Name," ran out of time")),void clearTimeout(c)):void 0}),1e3);return function(){return clearTimeout(c)}}}}),[n,d]);var O=0,y=0,v=Object(c.useRef)(),h=Object(c.useRef)();return Object(s.jsxs)("div",{className:"HoldingDiv",style:{margin:"10px"},children:[Object(s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),(O=v.current.value)>1&&O<=6){for(var t=[],n=0;n<O;n++)t.push({Id:n,Name:"Player ".concat(n+1),Position:n,TimeAllowed:y,Active:!1,AlreadyCounting:!1,Color:m[n]});r(t),document.querySelector("#StartForm").style.display="none",document.querySelector("#TimeForm").style.display="block"}else alert("Invalid amount of Players, must be between 2 and 6")},id:"StartForm",children:[Object(s.jsxs)("label",{children:["Number of Players:",Object(s.jsx)("input",{type:"number",ref:v})]}),Object(s.jsx)("input",{type:"submit",value:"Submit"})]}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y=h.current.value,function(e){return e<=300}?(r((function(e){return e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{TimeAllowed:60*y})}))})),document.querySelector("#TimeForm").style.display="none",document.querySelector("#StartGame").style.display="block",document.querySelectorAll(".name").forEach((function(e){return e.disabled=!1}))):alert("Invalid amount of Time, must be between 1 and 300")},style:{display:"none"},id:"TimeForm",children:[Object(s.jsxs)("label",{children:["Amount of Time (Minutes):",Object(s.jsx)("input",{type:"number",ref:h})]}),Object(s.jsx)("input",{type:"submit",value:"Submit"})]}),Object(s.jsxs)("div",{style:{display:"none"},id:"StartGame",children:[Object(s.jsx)("p",{children:"Set Player Names"}),Object(s.jsx)("button",{onClick:function(e){r((function(e){return e.map((function(e){return 0===e.Id?Object(o.a)(Object(o.a)({},e),{},{Active:!0}):Object(o.a)({},e)}))})),document.querySelector("#StartGame").style.display="none",document.querySelectorAll(".name").forEach((function(e){return e.disabled=!0})),document.getElementById("0").style.visibility="visible"},children:"Start Game"})]}),Object(s.jsx)("div",{children:Object(s.jsx)(j,{Players:n,HandleOrderChange:function(){var e=Object(l.a)(n);e.sort((function(e,t){return e.Position>t.Position?1:-1})),e[0].Active=!0;for(var t=0;t<e.length;t++)e[t].Id=t,console.log(e[t]);r(e),document.querySelectorAll(".position").forEach((function(e){return e.disabled=!0})),document.querySelector(".changeOrder").style.display="none",document.getElementById("0").style.visibility="visible"},HandleNextTurn:function(){document.getElementById("".concat(d)).style.visibility="hidden";var e=(d+1)%n.length;0===e?(r((function(e){return e.map((function(e){return e.Id===d?Object(o.a)(Object(o.a)({},e),{},{Active:!1,AlreadyCounting:!1}):Object(o.a)({},e)}))})),b((function(t){return e})),document.querySelectorAll(".position").forEach((function(e){return e.disabled=!1})),document.querySelector(".changeOrder").style.display="block"):(document.getElementById("".concat(e)).style.visibility="visible",r((function(t){return t.map((function(t){return t.Id===e?Object(o.a)(Object(o.a)({},t),{},{Active:!0}):t.Id===d?Object(o.a)(Object(o.a)({},t),{},{Active:!1,AlreadyCounting:!1}):Object(o.a)({},t)}))})),b((function(t){return e})))},HandleNameChange:function(e,t){r((function(n){return n.map((function(n){return n.Id===t?Object(o.a)(Object(o.a)({},n),{},{Name:e}):Object(o.a)({},n)}))}))},HandleInternalPosition:function(e,t){r((function(n){return n.map((function(n){return n.Id===e?Object(o.a)(Object(o.a)({},n),{},{Position:t}):Object(o.a)({},n)}))}))}})})]})};var f=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("header",{className:"App-header",children:Object(s.jsx)("h1",{children:"Board Game Clock"})}),Object(s.jsx)("div",{children:Object(s.jsx)(m,{})}),Object(s.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",margin:"20px"},children:Object(s.jsx)("button",{onClick:function(){window.location.reload(!1)},children:"Restart Game!"})})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root")),O()},3:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.6099ab7a.chunk.js.map