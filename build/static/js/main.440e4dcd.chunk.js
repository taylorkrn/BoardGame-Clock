(this.webpackJsonpboardgame_clock=this.webpackJsonpboardgame_clock||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(2),i=n.n(c),r=n(8),a=n.n(r),l=(n(14),n(3),n(9)),o=n(1),s=n(7),u=n(0);function d(e){var t=e.SecsLeft,n="white";return t<=0&&(n="red"),Object(u.jsx)("div",{style:{display:"inline-block"},children:Object(u.jsx)("p",{style:{display:"inline-block",color:"".concat(n)},className:"time",children:function(e){var t="",n=e;if(e<0&&(n=-e),n>=3600){var c=Math.floor(n/3600);n%=3600,t+="".concat(c,":")}var i=Math.floor(n/60);return n%=60,t+="".concat(i<10?"0":"").concat(i,":").concat(n<10?"0":"").concat(n)}(t)})})}function b(e){var t=e.player,n=e.HandleNextTurn,c=e.HandleNameChange,i=e.HandleInternalPosition;return Object(u.jsxs)("div",{className:"Player",children:[Object(u.jsx)("div",{className:"Square",children:Object(u.jsx)("div",{className:"PlayerPiece",style:{backgroundColor:"".concat(t.Color)},children:Object(u.jsx)("input",{type:"number",value:t.Position+1,onChange:function(e){i(t.Id,parseInt(e.target.value)-1)},style:{visibility:"hidden"},className:"position"})})}),Object(u.jsx)("input",{value:t.Name,onChange:function(e){c(e.target.value,t.Id)},disabled:!0,className:"name"}),Object(u.jsx)(d,{SecsLeft:t.TimeAllowed}),Object(u.jsx)("button",{onClick:n,style:{visibility:"hidden"},className:"nextTurn",id:t.Id,children:" > "})]})}function j(e){var t=e.Players,n=e.HandleOrderChange,c=e.HandleNextTurn,i=e.HandleNameChange,r=e.HandleInternalPosition;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"Square"}),Object(u.jsx)("div",{className:"Square"}),t.map((function(e){return Object(u.jsx)(b,{player:e,HandleNextTurn:c,HandleNameChange:i,HandleInternalPosition:r},e.Id)})),Object(u.jsxs)("div",{className:"changeOrder",style:{display:"none"},children:[Object(u.jsx)("p",{children:"Change Player Order"}),Object(u.jsx)("button",{onClick:n,children:"Confirm Order"})]}),Object(u.jsx)("div",{className:"Square"}),Object(u.jsx)("div",{className:"Square"})]})}var m=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(0),a=Object(s.a)(r,2),d=a[0],b=a[1],m=["red","green","yellow","blue","white","black"],f=Object(c.useRef)(!0);Object(c.useEffect)((function(){if(f.current)f.current=!1;else{var e=d;if(n[d].Active){var t=Date.now()+1e3*n[e].TimeAllowed,c=setTimeout((function(){var n=Math.round((t-Date.now())/1e3);i((function(t){return t.map((function(t){return t.Id===e?Object(o.a)(Object(o.a)({},t),{},{TimeAllowed:n}):Object(o.a)({},t)}))}))}),1e3);return function(){return clearTimeout(c)}}}}),[n,d]);var y=0,O=0,v=Object(c.useRef)(),h=Object(c.useRef)();return Object(u.jsxs)("div",{className:"HoldingDiv",style:{margin:"10px"},children:[Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),(y=v.current.value)>1&&y<=6){for(var t=[],n=0;n<y;n++)t.push({Id:n,Name:"Player ".concat(n+1),Position:n,TimeAllowed:O,Active:!1,Color:m[n]});i(t),document.querySelector("#StartForm").style.display="none",document.querySelector("#TimeForm").style.display="block"}else alert("Invalid amount of Players, must be between 2 and 6")},id:"StartForm",children:[Object(u.jsxs)("label",{children:["Number of Players:",Object(u.jsx)("input",{type:"number",ref:v})]}),Object(u.jsx)("input",{type:"submit",value:"Submit"})]}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O=h.current.value,function(e){return e<=300}?(i((function(e){return e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{TimeAllowed:60*O})}))})),document.querySelector("#TimeForm").style.display="none",document.querySelector("#StartGame").style.display="block",document.querySelectorAll(".name").forEach((function(e){return e.disabled=!1}))):alert("Invalid amount of Time, must be between 1 and 300")},style:{display:"none"},id:"TimeForm",children:[Object(u.jsxs)("label",{children:["Amount of Time (Minutes):",Object(u.jsx)("input",{type:"number",ref:h})]}),Object(u.jsx)("input",{type:"submit",value:"Submit"})]}),Object(u.jsxs)("div",{style:{display:"none"},id:"StartGame",children:[Object(u.jsx)("p",{children:"Set Player Names"}),Object(u.jsx)("button",{onClick:function(e){i((function(e){return e.map((function(e){return 0===e.Id?Object(o.a)(Object(o.a)({},e),{},{Active:!0}):Object(o.a)({},e)}))})),document.querySelector("#StartGame").style.display="none",document.querySelectorAll(".name").forEach((function(e){return e.disabled=!0})),document.getElementById("0").style.visibility="visible"},children:"Start Game"})]}),Object(u.jsx)("div",{children:Object(u.jsx)(j,{Players:n,HandleOrderChange:function(){var e=Object(l.a)(n);e.sort((function(e,t){return e.Position>t.Position?1:-1})),e[0].Active=!0;for(var t=0;t<e.length;t++)e[t].Id=t;i(e),document.querySelectorAll(".position").forEach((function(e){return e.style.visibility="hidden"})),document.querySelector(".changeOrder").style.display="none",document.getElementById("0").style.visibility="visible"},HandleNextTurn:function(){document.getElementById("".concat(d)).style.visibility="hidden";var e=(d+1)%n.length;0===e?(i((function(e){return e.map((function(e){return e.Id===d?Object(o.a)(Object(o.a)({},e),{},{Active:!1,AlreadyCounting:!1}):Object(o.a)({},e)}))})),b((function(t){return e})),document.querySelectorAll(".position").forEach((function(e){return e.style.visibility="visible"})),document.querySelector(".changeOrder").style.display="block"):(document.getElementById("".concat(e)).style.visibility="visible",i((function(t){return t.map((function(t){return t.Id===e?Object(o.a)(Object(o.a)({},t),{},{Active:!0}):t.Id===d?Object(o.a)(Object(o.a)({},t),{},{Active:!1,AlreadyCounting:!1}):Object(o.a)({},t)}))})),b((function(t){return e})))},HandleNameChange:function(e,t){i((function(n){return n.map((function(n){return n.Id===t?Object(o.a)(Object(o.a)({},n),{},{Name:e}):Object(o.a)({},n)}))}))},HandleInternalPosition:function(e,t){i((function(n){return n.map((function(n){return n.Id===e?Object(o.a)(Object(o.a)({},n),{},{Position:t}):Object(o.a)({},n)}))}))}})})]})};var f=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("header",{className:"App-header",children:Object(u.jsx)("h1",{children:"Board Game Clock"})}),Object(u.jsx)("div",{children:Object(u.jsx)(m,{})}),Object(u.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",margin:"20px"},children:Object(u.jsx)("button",{onClick:function(){window.location.reload(!1)},children:"Restart Game!"})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),y()},3:function(e,t,n){}},[[16,1,2]]]);
//# sourceMappingURL=main.440e4dcd.chunk.js.map